<!-- <div class="bg-gradient-to-b from-gray-200 via-gray-100 to-white relative">
    <header class="absolute inset-x-0 top-0 z-10 w-full " style="position: fixed; background-color:#b8c2cc;background-image: url('assets/images/shape.png'); background-size: cover; background-position: center;">
      <div class="px-4 mx-auto sm:px-6 lg:px-8">
          <div class="flex items-center justify-between h-14 lg:h-18">
              <div class="flex-shrink-0">
                  <a href="#" title="Gestion_des_commandes" class="flex text-gradient-to-r from-orange-200 to-blue-200" >
                    <img class="w-auto h-8" src="https://cdn.rareblocks.xyz/collection/celebration/images/hero/5/logo.svg" alt="" />
                    Structure details
                    </a>
              </div>

              <div class="lg:flex lg:items-center lg:justify-end lg:space-x-6 sm:ml-auto">
                  <a href="#" title="" class="hidden text-base text-blue3 transition-all duration-200 lg:inline-flex hover:text-opacity-80"> Log in </a>

                  <a href="#" title="" class="inline-flex items-center justify-center px-3 sm:px-5 py-2.5 text-sm sm:text-base font-semibold transition-all duration-200 text-blue3 bg-white/20 hover:bg-blue1/40 focus:bg-blue1/40 rounded-lg" role="button"> Back to home </a>
              </div>


              <button type="button" class="inline-flex p-2 ml-1 text-blue1 transition-all duration-200 rounded-md sm:ml-4 lg:hidden focus:bg-gray-800 hover:bg-gray-800">
                  Menu open: "hidden", Menu closed: "block"
                  <svg class="block w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                  </svg>

                  Menu open: "block", Menu closed: "hidden"
                  <svg class="hidden w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                  </svg>
              </button>
          </div>
      </div>
  </header>

</div> -->


<!-- SIDEBAR -->
<section id="sidebar" [ngClass]="status ? 'hide' : ''">
  <a href="'/prof-dash'" class="brand">
    <!-- <i class='bx bxs-smile'></i> -->
    <img src="assets/images/logosider.png" alt="">
  </a>
  <ul class="side-menu top">
    <li class="active">

      <a [href]="'/structuredetail/' + structureId">
        <i class='bx bx-arrow-back'></i>
        <span class="text">Acceuil</span>
      </a>
    </li>
    <li >
      <a [href]="'/structuredetail/' + structureId">
        <i class='bx bxs-buildings' ></i>
        <span class="text">Information / Chiffres</span>
      </a>
    </li>
    <!-- <li>
      <a [href]="'/structuredetail/' + structureId + '#chiffres'">
        <i class='bx bx-stats'></i>
        <span class="text">Chiffres</span>
      </a>
    </li> -->
    <li>
      <a [href]="'/structuredetail/' + structureId + '#repbudget'">
        <i class='bx bxs-dashboard' ></i>
        <span class="text">Répartition du Budget</span>
      </a>
    </li>
    <li>
      <a [href]="'/structuredetail/' + structureId + '#commandes'">
        <i class='bx bxs-cart-alt' ></i>
        <span class="text">Commandes</span>
      </a>
    </li>
    <li>
      <a [href]="'/structuredetail/' + structureId + '#profs'">
        <i class='bx bxs-user' ></i>
        <span class="text">Professeurs membres</span>
      </a>
    </li>

  </ul>
    <ul class="side-menu">
      <li>
        <a href="/settings">
          <i class='bx bxs-cog' ></i>
          <span class="text">Paramètres</span>
        </a>
      </li>
      <li>
        <a href="#" class="logout">
          <i class='bx bxs-log-out-circle' (click)="logout()" ></i>
          <span class="text" (click)="logout()">Se déconnecter</span>
        </a>
      </li>
    </ul>
  </section>
  <!-- SIDEBAR -->


<!-- CONTENT -->
<section id="content" class="front-page">
    <!-- NAVBAR -->
    <nav>
      <i (click)="addToggle()" class='bx bx-menu' ></i>
    </nav>
    <!-- NAVBAR -->

    <!-- MAIN -->
    <main class="main" >
      <!-- <div class="head-title">
        <div class="left">
          <h1>Dashboard</h1>
        </div>
      </div> -->


    <section class="py-10 bg-gray-50 sm:py-16 lg:py-18" style="background-color: transparent" *ngIf="structuredetail" id="chiffres">
            <div class="px-4 mx-auto sm:px-6 lg:px-8 max-w-7xl">
                <div class="max-w-2xl mx-auto text-center">
                    <h2 class="text-3xl font-bold leading-tight  sm:text-4xl lg:text-5xl" style="color: #4C86A7;"> <i class="fa-solid fa-building"  style="color: #FB8B03;"></i> {{structuredetail.nom}}</h2>
                    <!-- <p class="max-w-xl mx-auto mt-4 text-base leading-relaxed text-gray-600">Acronyme</p> -->
                    <div class="inline-flex px-4 py-1.5 mx-auto rounded-full bg-gradient-to-r from-orange-200 to-blue-200" style="margin-top: 2px;">
                        <p class="text-xs font-semibold tracking-widest text-blue uppercase"><i class="fa-solid fa-signature"></i> {{structuredetail.acronyme}}</p>
                    </div>
                </div>

                <div class="grid grid-cols-1 gap-6 mt-12 lg:mt-16 xl:gap-16 sm:grid-cols-2 lg:grid-cols-3">
                  <div class="overflow-hidden bg-white rounded shadow transition-all duration-200 bg-white hover:shadow-xl" style="background-image: url('assets/images/cc.png'); background-size: cover; background-position: center;" >
                    <div class="p-8">
                      <div class="flex items-center" >
                        <!-- <img class="flex-shrink-0 w-12 h-auto" src="https://cdn.rareblocks.xyz/collection/celebration/images/integration/3/gmail-logo.png" alt="" /> -->
                        <i class="fa-solid fa-user-tie" style="font-size: 40px; color:#4C86A7"></i>
                        <div class="ml-5 mr-auto">
                          <p class="text-xl font-semibold text-black" style="color:#4C86A7">Responsable</p>
                          <!--<p class="mt-px text-sm text-gray-600">{{structuredetail.nomResponsable}}</p>-->
                        </div>
                        <svg class="hidden w-5 h-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                      </div>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" style="color: #4C86A7; font-weight:600;">{{structuredetail.nomResponsable}}</p>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" style="color: #4C86A7; font-weight:600;"><i class="fa-solid fa-envelope"></i> {{professeurRespo?.mail}}</p>
                    </div>
                  </div>

                    <div class="overflow-hidden bg-white rounded shadow transition-all duration-200 bg-white hover:shadow-xl" style="background-image: url('assets/images/cc.png'); background-size: cover; background-position: center;">
                        <div class="p-8">
                            <div class="flex items-center" >
                                <!-- <img class="flex-shrink-0 w-12 h-auto" src="https://cdn.rareblocks.xyz/collection/celebration/images/integration/3/gmail-logo.png" alt="" /> -->
                                <i class="fa-solid fa-building" style="font-size: 40px; color:#FB8B03"></i>
                                <div class="ml-5 mr-auto">
                                    <p class="text-xl font-semibold text-black" style="color:#FB8B03">Type de Structure</p>
                                </div>
                                <svg class="hidden w-5 h-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                                </svg>
                            </div>
                            <p class="text-base leading-relaxed text-gray-600 mt-7">{{structuredetail.typeAsString}}</p>
                        </div>
                    </div>
                  <div class="overflow-hidden bg-white rounded shadow transition-all duration-200 bg-white hover:shadow-xl" style="background-image: url('assets/images/cc.png'); background-size: cover; background-position: center;" *ngIf="structuredetail.type === 'LabodeRecherche'">
                    <div class="p-8">
                      <div class="flex items-center" >
                        <!-- <img class="flex-shrink-0 w-12 h-auto" src="https://cdn.rareblocks.xyz/collection/celebration/images/integration/3/gmail-logo.png" alt="" /> -->
                        <i class="fa-solid fa-building" style="font-size: 40px; color:#FB8B03"></i>
                        <div class="ml-5 mr-auto">
                          <p class="text-xl font-semibold text-black" style="color:#FB8B03">Équipes de recherche affiliées</p>
                        </div>
                        <svg class="hidden w-5 h-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                      </div>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" *ngIf="structuredetail.childEquipesNoms.length > 0">{{structuredetail.childEquipesNoms}}</p>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" *ngIf="structuredetail.childEquipesNoms.length === 0">Aucune équipe de recherche affiliée</p>
                    </div>
                  </div>

                  <div class="overflow-hidden bg-white rounded shadow transition-all duration-200 bg-white hover:shadow-xl" style="background-image: url('assets/images/cc.png'); background-size: cover; background-position: center;" *ngIf="structuredetail.type === 'EquipedeRecherche' ">
                    <div class="p-8">
                      <div class="flex items-center" >
                        <!-- <img class="flex-shrink-0 w-12 h-auto" src="https://cdn.rareblocks.xyz/collection/celebration/images/integration/3/gmail-logo.png" alt="" /> -->
                        <i class="fa-solid fa-building" style="font-size: 40px; color:#FB8B03"></i>
                        <div class="ml-5 mr-auto">
                          <p class="text-xl font-semibold text-black" style="color:#FB8B03">Laboratoire Parent</p>
                        </div>
                        <svg class="hidden w-5 h-5 text-blue-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                        <i class="fa-brands fa-opencart"></i>
                      </div>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" *ngIf="structuredetail.parentLabNom && structuredetail.parentLabNom !== ''">{{structuredetail.parentLabNom}}</p>
                      <p class="text-base leading-relaxed text-gray-600 mt-7" *ngIf="!structuredetail.parentLabNom || structuredetail.parentLabNom === ''">Aucun laboratoire parent</p>
                    </div>
                  </div>

                </div>
            </div>
            <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
              <div class=" px-4 py-1.5 mx-auto rounded-full" style="margin-top: 4rem; background-color: #4C86A7;">
                <p class="text-xs text-center font-semibold tracking-widest text-white uppercase"> Chiffres</p>
            </div>
              <div class="grid grid-cols-1 gap-6 px-6 mt-8 sm:px-0 lg:mt-16 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-12">
                  <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">

                      <div class="px-4 py-6">
                          <div class="flex items-start">
                            <i style="font-size: 40px; color:#4C86A7" class="fa-solid fa-user-group"></i>
                              <div class="ml-4">
                                  <h4 class="text-4xl font-bold text-gray-900" style="color: #FB8B03;">{{profs.length}}</h4>
                                  <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Professeurs Membres</p>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
                      <div class="px-4 py-6">
                          <div class="flex items-start">
                            <i style="font-size: 40px; color:#4C86A7" class="fa-solid fa-wallet"></i>
                              <div class="ml-4">
                                  <h4 class="text-4xl font-bold text-gray-900" style="color: #FB8B03;">{{structuredetail.budgetAnnuel}} Dhs</h4>
                                  <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Budget Annuel</p>
                              </div>
                          </div>
                      </div>
                  </div>

                  <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
                      <div class="px-4 py-6">
                          <div class="flex items-start">
                            <i style="font-size: 40px; color:#4C86A7" class="fa-solid fa-barcode"></i>
                              <div class="ml-4">
                                  <h4 class="text-4xl font-bold text-gray-900" style="color: #FB8B03;">{{ getCurrentYearCommandesLength() }}</h4>
                                  <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Commandes passées au cours de l'année  : {{currentYear}}</p>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
    </section>

      <!-- Starts Repartition Budget -->
      <section class="container px-4 mx-auto" style="background-color: transparent"id="repbudget">

        <div class="sm:flex sm:items-center sm:justify-between">

          <div>
            <div class="flex items-center gap-x-3">
              <h2 class="text-3xl font-bold leading-tight sm:text-4xl lg:text-5xl" style="color: #4C86A7;"><i class="fa-solid fa-wallet" style="color: #FB8B03;"></i> Répartition du Budget</h2>
            </div>
          </div>
          <div class="mt-6 sm:flex sm:items-center sm:justify-between ">
            <div class="text-sm text-gray-500 dark:text-gray-400">
              <div class="card-footer bg-transparent">
                <button type="button" class="btnp btn-primary" (click)="addRubriqueAllocation()" *ngIf="isEditMode" style="color: #4C86A7;"><i class="fa-solid fa-square-plus"></i> Ajouter</button>
                &nbsp;
                <!-- Toggle edit mode button -->
                <button  [hidden]="!hasAccessProf" class="btn btn-outline-primary" (click)="toggleEditMode()" style="color: rgb(88, 88, 88);">
                  <i class="fa-solid" [ngClass]="{'fa-rotate-left': isEditMode, 'fa-pen-to-square': !isEditMode}"></i>
                  {{ isEditMode ? 'Annuler' : 'Modifier' }}
                </button>
                <!-- Save changes button (visible in edit mode) -->
                <button *ngIf="isEditMode"  (click)="Enregistrer()" class="btns btn-outline-success ms-3" style="color: #FB8B03;"><i class="fa-solid fa-bookmark" id="detail-button "></i> Enregistrer</button>
              </div>
            </div>
            &nbsp;
            <button class="flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg shrink-0 sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600" style="background-color: #4C86A7;">
              <!-- <span>Année</span> -->
              <label for="dropdown"><i class="fa-solid fa-calendar-days"></i> Année : </label>
              <select style="background:none; color: white;" id="dropdown" [(ngModel)]="selectedYear" (change)="onYearChange(selectedYear)">
                <option style="color: #4C86A7;" *ngFor="let year of listYears" [value]="year">{{ year }}</option>
              </select>

            </button>
          </div>
        </div>
        <div class="flex flex-col mt-6">
          <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
            <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
              <div  [formGroup]="rubriqueAllocationForm" class="overflow-hidden border border-gray-200 dark:border-gray-700 md:rounded-lg" style="border: none;">
                <div style="max-height: 400px; overflow-y: auto;"> <!-- Adjust the max-height value as needed -->
                  <table class="min-w-full divide-y divide-gray-200 dark:divide-gray-700">
                    <thead class="bg-gray-50 dark:bg-gray-800">
                    <tr>
                      <th scope="col" class="px-3 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400" style="width: 50%;">
                        <i class="fa-solid fa-box-open"></i> Rubrique
                      </th>
                      <th scope="col" class="px-2 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400" style="width: 20%;">
                        <i class="fa-solid fa-wallet"></i> Montant Alloué
                      </th>
                      <th scope="col" class="px-2 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400" style="width: 20%;">
                        <i class="fa-solid fa-sack-dollar"></i> Montant Restant
                      </th>
                      <th *ngIf="isEditMode" scope="col" class="px-2 py-3.5 text-sm font-normal text-left rtl:text-right text-gray-500 dark:text-gray-400" style="width: 10%;">
                        <i class="fa-solid fa-trash"></i> Supprimer
                      </th>
                    </tr>
                    </thead>

                    <tbody formArrayName="rubriqueAllocations" class="bg-white divide-y divide-gray-200 dark:divide-gray-700 dark:bg-gray-900">
                    <tr *ngFor="let allocation of rubriqueAllocations; let i = index" [formGroupName]="i">
                      <td class="px-3 py-4 text-sm font-medium whitespace-nowrap"> <!-- Adjusted width for Rubrique -->
                        <input type="text" placeholder="Nom de la Rubrique" class="form-control" style="width: 100%;" id="rubriqueName" formControlName="rubriqueName" list="rubriquesList" [value]="allocation.rubriqueName" [readonly]="!isEditMode">
                        <datalist id="rubriquesList">
                          <option *ngFor="let s of listrubriques" [value]="s.nom"></option>
                        </datalist>
                      </td>
                      <td class="px-2 py-4 text-sm font-medium whitespace-nowrap"> <!-- Adjusted width for Montant Alloué -->
                        <input type="number" placeholder="Montant Alloué en Dhs" id="montantAlloue" class="form-control" style="width: 100%;" formControlName="montantAlloue" [readonly]="!isEditMode">
                      </td>
                      <td class="px-2 py-4 text-sm font-medium whitespace-nowrap"> <!-- Adjusted width for Montant Restant -->
                        <input type="number" id="montantRestant" placeholder="Montant Restant" class="form-control" style="width: 100%;" formControlName="montantRestant" readonly>
                      </td>

                      <td *ngIf="isEditMode" class="px-2 py-4 text-sm font-medium whitespace-nowrap"> <!-- Adjusted width for Supprimer -->
                        <button type="button" style="color: red" class="btnp btn-primary" (click)="removeRubriqueAllocation(i)"><i class="fa-solid fa-square-minus"></i></button>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>


                <!-- Sum row -->
                <div class="flex justify-end">
                  <div class="px-4 py-2">
                    <p style="color: #FB8B03; font-weight:600">Total Montant Alloué:</p> <strong style="color: #4C86A7;">{{ calculateTotal('montantAlloue') }} Dhs</strong>
                  </div>
                  <div class="px-4 py-2">
                    <p style="color: #FB8B03; font-weight:600">Total Montant Restant:</p> <strong style="color: #4C86A7;">{{ calculateTotal('montantRestant') }} Dhs</strong>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </section>
      <!-- Ends Repartition Budget -->

      <!-- Starts New Commandes -->
      <div class="bg-whitesmoke sm:py-4">
        <div class="mx-auto max-w-7xl ">
          <div class="mx-auto mt-16 max-w-2xl rounded-3xl ring-1 ring-gray-200 sm:mt-20 lg:mx-0 lg:flex lg:max-w-none">
            <div class="p-8 sm:p-10 lg:flex-auto">
              <h2 class="text-3xl font-bold leading-tight sm:text-4xl lg:text-5xl" style="color: #4C86A7;"><i class="fa-solid fa-barcode" style="color: #FB8B03;"></i> Liste des commandes</h2>
              <div class="mt-10 flex items-center gap-x-4">
                <button class="flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg shrink-0 sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600" style="background-color: #4C86A7;">
                  <label for="dropdown"><i class="fa-solid fa-calendar-days"></i> Année : </label>
                  <select style="background:none; color: white;" id="dropdown" [(ngModel)]="selectedYearCommand" (change)="onYearChangeCommand(selectedYearCommand)">
                    <option style="color: #4C86A7;" *ngFor="let year of listYearsCommande" [value]="year">{{ year }}</option>
                  </select>

                </button>
                <div class="h-px flex-auto bg-gray-100"></div>
              </div>
              <ul role="list" class="mt-8 grid grid-cols-1 gap-4 text-sm leading-6 text-gray-600 sm:grid-cols-2 sm:gap-6">
                <div class="relative max-w-sm min-w-[340px] bg-white shadow-md rounded-3xl p-2 mx-1 my-3 cursor-pointer" *ngFor="let c of listCommandesPerYear">
                  <div class="overflow-x-hidden rounded-2xl relative" style="background-image: url('assets/images/shape.png'); background-size: cover; background-position: center;">
                    <img src="assets/images/commande.svg" alt="SVG Image">
                    <p class="absolute left-2 top-2 bg-white rounded-full p-2 cursor-pointer group">
                      <i style="color: #FB8B03;" class="fa-solid fa-user-tie"></i> <span style="color: #FB8B03;">{{c.profName}}</span>

                    </p>


                    <div class="inline-flex px-4 py-1.5 mx-auto rounded-full bg-gradient-to-r from-orange-200 to-blue-200" style="margin-top: 1rem;">
                      <p class="text-xs font-semibold tracking-widest text-blue uppercase">{{ c.type }}</p>
                    </div>
                    <p class="inline-flex items-center px-6 py-4 mt-8 bg-white rounded-full p-2 cursor-pointer group">
                      <i style="margin-left:2px; color:#FB8B03" class="fa-solid fa-calendar-days"></i> <span style="color: #FB8B03;">&nbsp;{{c.year}}</span>

                    </p>
                    <button class="btnf inline-flex px-4 py-1.5 mx-auto rounded-full bg-white rounded-full p-2 cursor-pointer group " role="button" >
                      <i class="fa-solid fa-trash"> </i>
                    </button>

                  </div>
                  <div class="mt-4 pl-2 mb-2 flex justify-between " >
                    <div >
                      <del>
                        <p class="text-md text-gray-800 mt-0">{{c.prixTotalHT}} Dhs / HT</p>
                      </del>
                      <p class="text-md text-blue-800 mt-0" >{{c.prixTotalTTC}} Dhs / TTC</p>
                    </div>
                    <button href="javascript:void(0)" (click)="getCommandeById(c)" title="" class="btna inline-flex items-center px-6 py-4 mt-8 font-semibold text-white transition-all duration-200 bg-blue1 rounded-lg sm:mt-16 hover:bg-blue2 focus:bg-orange1" role="button">
                      <p class="voirliste"><i class="fa-solid fa-cart-shopping" style="color: #4C86A7;"></i> Voir la liste des produits</p>
                    </button>



                  </div>
                </div>
              </ul>
            </div>
            <div [hidden]="!hasAccessProf" class="-mt-2 p-2 lg:mt-0 lg:w-full lg:max-w-md lg:flex-shrink-0">
              <div class="rounded-2xl bg-gray-50 py-10 text-center ring-1 ring-inset ring-gray-900/5 lg:flex lg:flex-col lg:justify-center lg:py-16">
                <div  class="mx-auto max-w-xs px-8">
                  <!-- <p class="text-base font-semibold text-gray-600">Un, ou plusieurs produits ?</p> -->
                  <p class="mt-6 flex items-baseline justify-center gap-x-2">
                    <!-- <span class="text-sm font-semibold leading-6 tracking-wide text-gray-600">Dans</span> -->
                    <span class="text-3xl font-bold tracking-tight text-gray-900"><i class="fa-brands fa-opencart" style="font-size: 80px; color:#4C86A7"></i></span>


                  </p>
                  <button [hidden]="!hasAccessProf" (click)="openNewCommandeForm()" class="addcom mt-10 block w-full rounded-md bg-orange-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" role="button">
                    <i class="fa-solid fa-circle-plus" [hidden]="!hasAccessProf" ></i> Ajouter nouvelle commande
                  </button>
                  <p class="mt-6 text-xs leading-5 text-gray-600">Ajouter un ou plusieurs produits à votre commande</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Ends New Commandes -->


      <!-- Starts NEW Profs -->
      <div class="bg-white py-24 sm:py-32">
        <div class="mx-auto grid max-w-7xl gap-x-8 gap-y-20 px-6 lg:px-8 xl:grid-cols-3">
          <div class="max-w-2xl">
            <h2 class="text-1xl font-bold tracking-tight sm:text-3xl" style="color: #4C86A7;"><i class="fa-solid fa-user-group" style="color: #FB8B03;"></i> Professeurs Membres</h2>
            <p class="mt-6 text-lg leading-8 text-gray-600">Autorisations d'accès : <br>
              Le Professeur est autorisé à consulter les informations concernant la structure à laquelle il est affilié, mais il n'a pas la possibilité de passer des commandes ou de modifier le budget.
            </p>
          </div>
          <ul role="list" class="grid gap-x-8 gap-y-12 sm:grid-cols-2 sm:gap-y-16 xl:col-span-2">
            <li *ngFor="let p of profs">
              <div class="flex items-center gap-x-6">
                <i class="fa-solid fa-user-tie" style="font-size: 60px;" [style.color]="p.droit_daccee ? 'green' : 'red'"></i>
                <div>
                  <h3 class="text-base font-semibold leading-7 tracking-tight text-gray-900">{{p.nom}} {{p.prenom}}</h3>
                  <p class="text-sm font-semibold leading-6 text-indigo-600" style="color: #4C86A7;"><i class="fa-solid fa-envelope"></i>  {{p.mail}}</p>
                  <p class="mt-2 text-base text-600" style="color: #4C86A7;">
                    <button [hidden]="!hasAccessProf" class="btnac mt-4 text-base text-gray-600" [class.active]="p.droit_daccee" (click)="toggleAccess(p,p.droit_daccee)">
                      <ng-container *ngIf="p.droit_daccee; else enableIcon">
                        <i class="fa-solid fa-square-xmark" style="color: red;"></i>
                      </ng-container>
                      <ng-template #enableIcon>
                        <i class="fa-solid fa-square-check" style="color: green;"></i>
                      </ng-template>
                      <label class="label">{{ p.droit_daccee ? ' Désactiver ' : ' Activer ' }}</label>
                    </button>  Droit d'accées
                  </p>
                </div>
              </div>
            </li>


            <!-- More people... -->
          </ul>
        </div>
      </div>
      <!-- Ends NEW Profs -->



      <!-- Starts Old Commandes -->
      <!-- <div class="min-h-screen bg-gray-100 flex flex-col justify-center" style="background-color: transparent" id="commandes" >

        <div>
          <div class="flex items-center gap-x-3">
            <h2 class="text-3xl font-bold leading-tight sm:text-4xl lg:text-5xl" style="color: #4C86A7;"><i class="fa-solid fa-barcode"></i> Liste des commandes</h2>
          </div>
        </div>
        <div class="mt-6 sm:flex sm:items-center sm:justify-between ">
          <div class="text-sm text-gray-500 dark:text-gray-400">
            <div class="card-footer bg-transparent">
              <div class="px-4 mx-auto sm:px-6 lg:px-8 max-w-1xl" style="margin-top: 2px;">
                <div class="max-w-1xl mx-auto text-center" >
                  <button (click)="openNewCommandeForm()" class="btna inline-flex items-center px-6 py-4 mt-8 font-semibold text-white transition-all duration-200 bg-blue1 rounded-lg sm:mt-16 hover:bg-blue2 focus:bg-orange1" role="button">
                    <i class="fa-solid fa-circle-plus" style="color: #4C86A7;"></i> Ajouter nouvelle commande
                  </button>
                </div>
              </div>
            </div>
          </div>
          &nbsp;
          <button class="flex items-center justify-center w-1/2 px-5 py-2 text-sm tracking-wide text-white transition-colors duration-200 bg-blue-500 rounded-lg shrink-0 sm:w-auto gap-x-2 hover:bg-blue-600 dark:hover:bg-blue-500 dark:bg-blue-600" style="background-color: #4C86A7;">
            <label for="dropdown"><i class="fa-solid fa-calendar-days"></i> Année : </label>
            <select style="background:none; color: white;" id="dropdown" [(ngModel)]="selectedYearCommand" (change)="onYearChangeCommand(selectedYearCommand)">
              <option style="color: #4C86A7;" *ngFor="let year of listYearsCommande" [value]="year">{{ year }}</option>
            </select>

          </button>
        </div>

        <div class="relative m-3 flex flex-wrap mx-auto justify-center" >
          <div class="relative max-w-sm min-w-[340px] bg-white shadow-md rounded-3xl p-2 mx-1 my-3 cursor-pointer" *ngFor="let c of listCommandesPerYear">
            <div class="overflow-x-hidden rounded-2xl relative" style="background-image: url('assets/images/shape.png'); background-size: cover; background-position: center;">
              <img src="assets/images/commande.svg" alt="SVG Image">
              <p class="absolute left-2 top-2 bg-white rounded-full p-2 cursor-pointer group">
                <i style="color: #FB8B03;" class="fa-solid fa-user-tie"></i> <span style="color: #FB8B03;">{{c.profName}}</span>

              </p>
              <p class="absolute right-2 top-2 bg-white rounded-full p-2 cursor-pointer group">
                <i style="margin-left:2px; color:#FB8B03" class="fa-solid fa-calendar-days"></i> <span style="color: #FB8B03;">&nbsp;{{c.year}}</span>

              </p>
              <div class="inline-flex px-4 py-1.5 mx-auto rounded-full bg-gradient-to-r from-orange-200 to-blue-200" style="margin-top: 1rem;">
                <p class="text-xs font-semibold tracking-widest text-blue uppercase">{{ c.type }}</p>
              </div>

            </div>
            <div class="mt-4 pl-2 mb-2 flex justify-between " >
              <div >
                <del>
                  <p class="text-md text-gray-800 mt-0">{{c.prixTotalHT}} Dhs / HT</p>
                </del>
                <p class="text-md text-blue-800 mt-0" >{{c.prixTotalTTC}} Dhs / TTC</p>
              </div>
              <button href="javascript:void(0)" (click)="getCommandeById(c)" title="" class="btna inline-flex items-center px-6 py-4 mt-8 font-semibold text-white transition-all duration-200 bg-blue1 rounded-lg sm:mt-16 hover:bg-blue2 focus:bg-orange1" role="button">
                <p><i class="fa-solid fa-cart-shopping" style="color: #4C86A7;"></i> Voir Produits</p>
              </button>

            </div>
          </div>
        </div>
      </div> -->
      <!-- Ends Old Commandes -->


      <!-- Starts old Profs -->
      <!-- <section class="py-10 bg-gray-50 sm:py-16 lg:py-24" style="background-color: transparent" id="profs" >
        <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
          <div class="max-w-xl mx-auto text-center">
            <h2 class="mt-6 text-3xl font-bold leading-tight sm:text-4xl lg:text-4xl" style="color: #4C86A7;"> <i class="fa-solid fa-list"></i> Professeurs Membres</h2>
          </div>

          <div class="grid grid-cols-1 gap-5 mt-12 sm:grid-cols-3 lg:mt-20 lg:gap-x-12">
            <div class="transition-all duration-200 bg-white hover:shadow-xl" *ngFor="let p of profs" style="background-image: url('assets/images/shape.png'); background-size: cover; background-position: center;">
              <div class="py-10 px-9">
                <div style=" top:0;right:0;">

                  <i class="fa-solid fa-user-tie" style="font-size: 40px;color:#4C86A7"></i>
                  <p class="mt-4 text-base leading-relaxed text-gray-600 mt-7" style="color: #4C86A7;font-weight:600; "><i class="fa-solid fa-envelope"></i>  {{p.mail}}</p>

                </div>

                <h3 class="mt-8 text-lg font-semibold text" style="color: #FB8B03;">{{p.nom}} {{p.prenom}} </h3>
                <p class="mt-2 text-base text-600" style="color: #4C86A7;">
                  <button class="btnac mt-4 text-base text-gray-600" [class.active]="p.droit_daccee" (click)="toggleAccess(p,p.droit_daccee)">
                    <ng-container *ngIf="p.droit_daccee; else enableIcon">
                      <i class="fa-solid fa-square-xmark" style="color: red;"></i>
                    </ng-container>
                    <ng-template #enableIcon>
                      <i class="fa-solid fa-square-check" style="color: green;"></i>
                    </ng-template>
                    <label class="label">{{ p.droit_daccee ? ' Désactiver ' : ' Activer ' }}</label>
                  </button>  Droit d'accées
                </p>
              </div>
            </div>
          </div>
        </div>
      </section> -->
      <!-- Ends old Profs -->


      <!-- <section class="py-10 bg-gray-100 sm:py-16 lg:py-24" style="background-color: transparent" id="chiffres">
        <div class="max-w-5xl px-4 mx-auto sm:px-6 lg:px-8">
          <div class="grid grid-cols-1 gap-8 mt-10 text-center lg:mt-24 sm:gap-x-8 md:grid-cols-3">
            <div>
              <h3 class="font-bold text-7xl">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-300">{{structuredetail.budgetAnnuel}}</span>
              </h3>
              <p class="mt-4 text-xl font-medium text-blue-900"> Budget Annuel</p>
            </div>

            <div>
              <h3 class="font-bold text-7xl">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-300"> {{profs.length}} </span>
              </h3>
              <p class="mt-4 text-xl font-medium text-blue-900">Nombre de Professeurs Membres</p>
            </div>

            <div>
              <h3 class="font-bold text-7xl">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-blue-300">{{ getCurrentYearCommandesLength() }}</span>
              </h3>
              <p class="mt-4 text-xl font-medium text-blue-900">Nombre de commandes de l'année en cours : {{currentYear}}</p>
            </div>
          </div>
        </div>
      </section> -->

      <!-- <div class="py-10 bg-gray-100 sm:py-16 lg:py-24" style="background-color: transparent" id="chiffres">
        <div class="max-w-2xl mx-auto text-center" style="margin-bottom: 4rem;">
          <h2 class="text-3xl font-bold leading-tight  sm:text-4xl lg:text-5xl" style="color: #4C86A7;"> Chiffres</h2>
      </div>
        <div class="mx-auto max-w-7xl px-6 lg:px-8">
          <dl class="grid grid-cols-1 gap-x-8 gap-y-16 text-center lg:grid-cols-3">
            <div class="mx-auto flex max-w-xs flex-col gap-y-4">

              <dt class="text-base leading-7 text-gray-600">Budget Annuel</dt>
              <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl" style="color: #4C86A7;">{{structuredetail.budgetAnnuel}}</dd>
            </div>
            <div class="mx-auto flex max-w-xs flex-col gap-y-4">
              <dt class="text-base leading-7 text-gray-600">Nombre de Professeurs Membres</dt>
              <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl" style="color: #4C86A7;">{{profs.length}}</dd>
            </div>
            <div class="mx-auto flex max-w-xs flex-col gap-y-4">
              <dt class="text-base leading-7 text-gray-600">Nombre de commandes de l'année en cours : {{currentYear}}</dt>
              <dd class="order-first text-3xl font-semibold tracking-tight text-gray-900 sm:text-5xl" style="color: #4C86A7;">{{ getCurrentYearCommandesLength() }}</dd>
            </div>
          </dl>
        </div>
      </div> -->


      <!-- <section class="py-10 bg-gray-100 sm:py-16 lg:py-24" style="background-color: transparent;" id="chiffres">
        <div class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8">
            <div class="text-center">
                <h4 class="text-xl font-medium text-gray-900">Quelques chiffres</h4>
            </div>

            <div class="grid grid-cols-1 gap-6 px-6 mt-8 sm:px-0 lg:mt-16 sm:grid-cols-2 lg:grid-cols-3 xl:gap-x-12">
                <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
                    <div class="px-4 py-6">
                        <div class="flex items-start">
                            <svg class="flex-shrink-0 w-12 h-12 text-fuchsia-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke="#4C86A7" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" />
                            </svg>
                            <div class="ml-4">
                                <h4 class="text-4xl font-bold text-gray-900">{{profs.length}}</h4>
                                <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Nombre de Professeurs Membres</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
                    <div class="px-4 py-6">
                        <div class="flex items-start">
                            <svg class="flex-shrink-0 w-12 h-12 text-fuchsia-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke="#4C86A7" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                            </svg>
                            <div class="ml-4">
                                <h4 class="text-4xl font-bold text-gray-900">{{structuredetail.budgetAnnuel}} Dhs</h4>
                                <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Budget Annuel</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="overflow-hidden bg-white border border-gray-200 rounded-lg">
                    <div class="px-4 py-6">
                        <div class="flex items-start">
                          <svg class="flex-shrink-0 w-12 h-12 text-fuchsia-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke="#4C86A7" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                        </svg>
                            <div class="ml-4">
                                <h4 class="text-4xl font-bold text-gray-900">{{ getCurrentYearCommandesLength() }} Dhs</h4>
                                <p class="mt-1.5 text-lg font-medium leading-tight text-gray-500">Nombre de commandes de l'année en cours : {{currentYear}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> -->



    </main>
    <!-- MAIN -->
  </section>
  <!-- CONTENT -->


<!-- <div class="copyright-area" style="background-image: url('assets/images/shape.png'); background-size: cover; background-position: center;">
    <div class="container">
        <div class="copyright-area-content">
            <div class="signature ">
                <img src="assets/images/footerimage.png" >
            </div>
            <p> <span style="color: #FB8B03;"> © </span> Gestion_des_commandes is Proudly Created by <br>
                <a href="https://www.linkedin.com/in/yassine-ourara" target="_blank">OuraraYassine</a> <span style="color: #FB8B03;"> & </span>
                <a href="https://www.linkedin.com/in/khalidmhasni" target="_blank">MhasniKhalid</a><span style="color: #FB8B03;"> & </span>
                <a href="https://www.linkedin.com/in/oumaimabenaboud" target="_blank">BenaboudOumaïma</a>
            </p>



        </div>
    </div>
</div> -->


<style>
  /* Tab content - closed */
  .tab-content {
  max-height: 0;
  -webkit-transition: max-height .35s;
  -o-transition: max-height .35s;
  transition: max-height .35s;
  }
  /* :checked - resize to full height */
  .tab input:checked ~ .tab-content {
  max-height: 100vh;
  }
  /* Label formatting when open */
  .tab input:checked + label{
  /*@apply text-xl p-5 border-l-2 border-indigo-500 bg-gray-100 text-indigo*/
  font-size: 1.25rem; /*.text-xl*/
  padding: 1.25rem; /*.p-5*/
  border-left-width: 3px; /*.border-l-2*/
  border-color: #FB8B03; /*.border-indigo*/
  background-color: #f8fafc; /*.bg-gray-100 */
  color: #FB8B03; /*.text-indigo*/
  }
  /* Icon */
  .tab label::after {
  float:right;
  right: 0;
  top: 0;
  display: block;
  width: 1.5em;
  height: 1.5em;
  line-height: 1.5;
  font-size: 1.25rem;
  text-align: center;
  -webkit-transition: all .35s;
  -o-transition: all .35s;
  transition: all .35s;
  }
  /* Icon formatting - closed */
  .tab input[type=checkbox] + label::after {
  content: "+";
  font-weight:bold; /*.font-bold*/
  border-width: 1px; /*.border*/
  border-radius: 9999px; /*.rounded-full */
  border-color: #b8c2cc; /*.border-grey*/
  }
  .tab input[type=radio] + label::after {
  content: "\25BE";
  font-weight:bold; /*.font-bold*/
  border-width: 1px; /*.border*/
  border-radius: 9999px; /*.rounded-full */
  border-color: #b8c2cc; /*.border-grey*/
  }
  /* Icon formatting - open */
  .tab input[type=checkbox]:checked + label::after {
  transform: rotate(315deg);
  background-color: #FB8B03; /*.bg-indigo*/
  color: #f8fafc; /*.text-grey-lightest*/
  }
  .tab input[type=radio]:checked + label::after {
  transform: rotateX(180deg);
  background-color: #FB8B03; /*.bg-indigo*/
  color: #f8fafc; /*.text-grey-lightest*/
  }
</style>
<script>
/* Optional Javascript to close the radio button version by clicking it again */
var myRadios = document.getElementsByName('tabs2');
var setCheck;
var x = 0;
for(x = 0; x < myRadios.length; x++){
   myRadios[x].onclick = function(){
       if(setCheck != this){
            setCheck = this;
       }else{
           this.checked = false;
           setCheck = null;
   }
   };
}
var slider = document.getElementById("myRange");
var output = document.getElementById("demo");
output.innerHTML = slider.value; // Display the default slider value

// Update the current slider value (each time you drag the slider handle)
slider.oninput = function() {
  output.innerHTML = this.value;
}
</script>
